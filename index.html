<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avatar Creator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 1200px;
            width: 100%;
            overflow: hidden;
        }

        .header {
            background: #191919;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            opacity: 0.7;
            font-size: 14px;
        }

        .content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            padding: 30px;
        }

        .canvas-container {
            text-align: center;
        }

        canvas {
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            background: white;
        }

        .buttons {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .btn {
            background: #191919;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn:hover {
            background: #333;
            transform: translateY(-1px);
        }

        .controls {
            overflow-y: auto;
            max-height: 600px;
            padding-right: 10px;
        }

        .control-group {
            margin-bottom: 25px;
        }

        .control-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
            font-size: 13px;
            text-transform: capitalize;
        }

        .option-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(75px, 1fr));
            gap: 8px;
        }

        .option-btn {
            background: #f7f7f7;
            border: 2px solid #e0e0e0;
            padding: 10px 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 11px;
            text-align: center;
            font-weight: 500;
        }

        .option-btn:hover {
            background: #f0f0f0;
            border-color: #191919;
        }

        .option-btn.active {
            background: #191919;
            color: white;
            border-color: #191919;
        }

        @media (max-width: 900px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Notion Avatar Creator</h1>
            <p>Create your minimalist hand-drawn style avatar</p>
        </div>
        
        <div class="content">
            <div class="canvas-container">
                <canvas id="avatarCanvas" width="300" height="300"></canvas>
                <div class="buttons">
                    <button class="btn" onclick="randomizeAvatar()">üé≤ Random</button>
                    <button class="btn" onclick="downloadAvatar()">‚¨áÔ∏è Download</button>
                </div>
            </div>

            <div class="controls" id="controls"></div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('avatarCanvas');
        const ctx = canvas.getContext('2d');

        const avatarOptions = {
            background: [
                { name: 'White', color: '#FFFFFF' },
                { name: 'Beige', color: '#F5E6D3' },
                { name: 'Blue', color: '#E3F2FD' },
                { name: 'Pink', color: '#FCE4EC' },
                { name: 'Green', color: '#E8F5E9' },
                { name: 'Purple', color: '#F3E5F5' }
            ],
            skinTone: [
                { name: 'Light', color: '#FFDFC4' },
                { name: 'Medium', color: '#F0C49C' },
                { name: 'Tan', color: '#D9A066' },
                { name: 'Deep', color: '#A67C52' },
                { name: 'Dark', color: '#8B5A3C' }
            ],
            faceShape: [
                { name: 'Round', style: 'round' },
                { name: 'Square', style: 'square' },
                { name: 'Oval', style: 'oval' }
            ],
            eyes: [
                { name: 'Round', style: 'round' },
                { name: 'Happy', style: 'happy' },
                { name: 'Wink', style: 'wink' },
                { name: 'Closed', style: 'closed' },
                { name: 'Side', style: 'side' }
            ],
            eyebrows: [
                { name: 'Natural', style: 'natural' },
                { name: 'Raised', style: 'raised' },
                { name: 'Flat', style: 'flat' },
                { name: 'Sad', style: 'sad' }
            ],
            nose: [
                { name: 'Small', style: 'small' },
                { name: 'Round', style: 'round' },
                { name: 'Pointed', style: 'pointed' }
            ],
            mouth: [
                { name: 'Smile', style: 'smile' },
                { name: 'Happy', style: 'happy' },
                { name: 'Serious', style: 'serious' },
                { name: 'Open', style: 'open' }
            ],
            hair: [
                { name: 'Short', style: 'short' },
                { name: 'Bob', style: 'bob' },
                { name: 'Long', style: 'long' },
                { name: 'Curly', style: 'curly' },
                { name: 'Buzz', style: 'buzz' },
                { name: 'Bald', style: 'bald' }
            ],
            hairColor: [
                { name: 'Black', color: '#000000' },
                { name: 'Brown', color: '#5C4033' },
                { name: 'Blonde', color: '#D4A574' },
                { name: 'Red', color: '#8B3A3A' },
                { name: 'Gray', color: '#808080' }
            ],
            facialHair: [
                { name: 'None', style: 'none' },
                { name: 'Stubble', style: 'stubble' },
                { name: 'Beard', style: 'beard' },
                { name: 'Goatee', style: 'goatee' }
            ],
            glasses: [
                { name: 'None', style: 'none' },
                { name: 'Round', style: 'round' },
                { name: 'Square', style: 'square' },
                { name: 'Sunglasses', style: 'sun' }
            ],
            accessories: [
                { name: 'None', style: 'none' },
                { name: 'Hat', style: 'hat' },
                { name: 'Beanie', style: 'beanie' },
                { name: 'Headband', style: 'headband' }
            ]
        };

        let currentAvatar = {
            background: 0,
            skinTone: 1,
            faceShape: 0,
            eyes: 0,
            eyebrows: 0,
            nose: 0,
            mouth: 0,
            hair: 1,
            hairColor: 1,
            facialHair: 0,
            glasses: 0,
            accessories: 0
        };

        function drawAvatar() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Background
            ctx.fillStyle = avatarOptions.background[currentAvatar.background].color;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.save();
            ctx.strokeStyle = '#000000';
            ctx.fillStyle = '#000000';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            const skinColor = avatarOptions.skinTone[currentAvatar.skinTone].color;

            // Draw in order: hair back, head, facial features, hair front, accessories
            drawHairBack();
            drawHead(skinColor);
            drawEars(skinColor);
            drawFacialHair();
            drawEyebrows();
            drawEyes();
            drawNose();
            drawMouth();
            drawHairFront();
            drawGlasses();
            drawAccessories();

            ctx.restore();
        }

        function drawHead(skinColor) {
            const shape = avatarOptions.faceShape[currentAvatar.faceShape].style;
            
            ctx.fillStyle = skinColor;
            ctx.beginPath();
            
            if (shape === 'round') {
                ctx.arc(150, 150, 60, 0, Math.PI * 2);
            } else if (shape === 'square') {
                ctx.roundRect(90, 90, 120, 120, 20);
            } else if (shape === 'oval') {
                ctx.ellipse(150, 150, 55, 70, 0, 0, Math.PI * 2);
            }
            
            ctx.fill();
            ctx.stroke();
        }

        function drawEars(skinColor) {
            ctx.fillStyle = skinColor;
            
            // Left ear
            ctx.beginPath();
            ctx.arc(95, 150, 12, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            
            // Right ear
            ctx.beginPath();
            ctx.arc(205, 150, 12, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
        }

        function drawEyes() {
            const eyeStyle = avatarOptions.eyes[currentAvatar.eyes].style;
            
            if (eyeStyle === 'round') {
                // Left eye
                ctx.fillStyle = '#FFFFFF';
                ctx.beginPath();
                ctx.arc(130, 145, 10, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                ctx.arc(130, 145, 5, 0, Math.PI * 2);
                ctx.fill();
                
                // Right eye
                ctx.fillStyle = '#FFFFFF';
                ctx.beginPath();
                ctx.arc(170, 145, 10, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                ctx.arc(170, 145, 5, 0, Math.PI * 2);
                ctx.fill();
            } else if (eyeStyle === 'happy') {
                ctx.beginPath();
                ctx.arc(130, 145, 8, 0.1 * Math.PI, 0.9 * Math.PI);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.arc(170, 145, 8, 0.1 * Math.PI, 0.9 * Math.PI);
                ctx.stroke();
            } else if (eyeStyle === 'wink') {
                // Left winking
                ctx.beginPath();
                ctx.moveTo(120, 145);
                ctx.lineTo(140, 145);
                ctx.stroke();
                
                // Right open
                ctx.fillStyle = '#FFFFFF';
                ctx.beginPath();
                ctx.arc(170, 145, 10, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                ctx.arc(170, 145, 5, 0, Math.PI * 2);
                ctx.fill();
            } else if (eyeStyle === 'closed') {
                ctx.beginPath();
                ctx.moveTo(120, 145);
                ctx.lineTo(140, 145);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(160, 145);
                ctx.lineTo(180, 145);
                ctx.stroke();
            } else if (eyeStyle === 'side') {
                // Both looking right
                ctx.fillStyle = '#FFFFFF';
                ctx.beginPath();
                ctx.arc(130, 145, 10, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                ctx.arc(135, 145, 5, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.fillStyle = '#FFFFFF';
                ctx.beginPath();
                ctx.arc(170, 145, 10, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                ctx.arc(175, 145, 5, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function drawEyebrows() {
            const style = avatarOptions.eyebrows[currentAvatar.eyebrows].style;
            
            if (style === 'natural') {
                ctx.beginPath();
                ctx.moveTo(115, 130);
                ctx.quadraticCurveTo(130, 125, 145, 130);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(155, 130);
                ctx.quadraticCurveTo(170, 125, 185, 130);
                ctx.stroke();
            } else if (style === 'raised') {
                ctx.beginPath();
                ctx.moveTo(115, 125);
                ctx.quadraticCurveTo(130, 120, 145, 125);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(155, 125);
                ctx.quadraticCurveTo(170, 120, 185, 125);
                ctx.stroke();
            } else if (style === 'flat') {
                ctx.beginPath();
                ctx.moveTo(115, 128);
                ctx.lineTo(145, 128);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(155, 128);
                ctx.lineTo(185, 128);
                ctx.stroke();
            } else if (style === 'sad') {
                ctx.beginPath();
                ctx.moveTo(115, 135);
                ctx.quadraticCurveTo(130, 130, 145, 135);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(155, 135);
                ctx.quadraticCurveTo(170, 130, 185, 135);
                ctx.stroke();
            }
        }

        function drawNose() {
            const style = avatarOptions.nose[currentAvatar.nose].style;
            
            if (style === 'small') {
                ctx.beginPath();
                ctx.moveTo(150, 160);
                ctx.lineTo(148, 165);
                ctx.moveTo(150, 160);
                ctx.lineTo(152, 165);
                ctx.stroke();
            } else if (style === 'round') {
                ctx.beginPath();
                ctx.arc(150, 165, 5, 0.2 * Math.PI, 0.8 * Math.PI);
                ctx.stroke();
            } else if (style === 'pointed') {
                ctx.beginPath();
                ctx.moveTo(150, 155);
                ctx.lineTo(145, 165);
                ctx.lineTo(150, 168);
                ctx.lineTo(155, 165);
                ctx.closePath();
                ctx.fillStyle = avatarOptions.skinTone[currentAvatar.skinTone].color;
                ctx.fill();
                ctx.stroke();
            }
        }

        function drawMouth() {
            const style = avatarOptions.mouth[currentAvatar.mouth].style;
            
            if (style === 'smile') {
                ctx.beginPath();
                ctx.arc(150, 175, 15, 0.1 * Math.PI, 0.9 * Math.PI);
                ctx.stroke();
            } else if (style === 'happy') {
                ctx.beginPath();
                ctx.arc(150, 170, 20, 0.15 * Math.PI, 0.85 * Math.PI);
                ctx.stroke();
            } else if (style === 'serious') {
                ctx.beginPath();
                ctx.moveTo(135, 180);
                ctx.lineTo(165, 180);
                ctx.stroke();
            } else if (style === 'open') {
                ctx.beginPath();
                ctx.ellipse(150, 182, 8, 10, 0, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function drawHairBack() {
            const style = avatarOptions.hair[currentAvatar.hair].style;
            const color = avatarOptions.hairColor[currentAvatar.hairColor].color;
            
            ctx.fillStyle = color;
            
            if (style === 'long') {
                // Long hair back layer
                ctx.beginPath();
                ctx.moveTo(90, 110);
                ctx.quadraticCurveTo(70, 150, 80, 220);
                ctx.lineTo(90, 220);
                ctx.quadraticCurveTo(85, 160, 95, 120);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(210, 110);
                ctx.quadraticCurveTo(230, 150, 220, 220);
                ctx.lineTo(210, 220);
                ctx.quadraticCurveTo(215, 160, 205, 120);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
            }
        }

        function drawHairFront() {
            const style = avatarOptions.hair[currentAvatar.hair].style;
            const color = avatarOptions.hairColor[currentAvatar.hairColor].color;
            
            ctx.fillStyle = color;
            
            if (style === 'short') {
                ctx.beginPath();
                ctx.arc(150, 100, 65, Math.PI, 0);
                ctx.lineTo(215, 130);
                ctx.quadraticCurveTo(210, 110, 150, 100);
                ctx.quadraticCurveTo(90, 110, 85, 130);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
            } else if (style === 'bob') {
                ctx.beginPath();
                ctx.arc(150, 95, 70, Math.PI, 0);
                ctx.lineTo(220, 160);
                ctx.quadraticCurveTo(215, 165, 205, 165);
                ctx.lineTo(95, 165);
                ctx.quadraticCurveTo(85, 165, 80, 160);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
            } else if (style === 'long') {
                ctx.beginPath();
                ctx.arc(150, 95, 70, Math.PI, 0);
                ctx.lineTo(220, 130);
                ctx.quadraticCurveTo(210, 110, 150, 95);
                ctx.quadraticCurveTo(90, 110, 80, 130);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
            } else if (style === 'curly') {
                ctx.beginPath();
                ctx.arc(150, 90, 75, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                // Curls
                for (let i = 0; i < 8; i++) {
                    const angle = (i / 8) * Math.PI * 2;
                    const x = 150 + Math.cos(angle) * 65;
                    const y = 90 + Math.sin(angle) * 65;
                    ctx.beginPath();
                    ctx.arc(x, y, 12, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.stroke();
                }
            } else if (style === 'buzz') {
                ctx.lineWidth = 2;
                for (let i = 0; i < 30; i++) {
                    const angle = Math.PI + (Math.random() - 0.5) * Math.PI;
                    const startR = 58;
                    const endR = 50;
                    const x1 = 150 + Math.cos(angle) * startR;
                    const y1 = 100 + Math.sin(angle) * startR;
                    const x2 = 150 + Math.cos(angle) * endR;
                    const y2 = 100 + Math.sin(angle) * endR;
                    ctx.beginPath();
                    ctx.moveTo(x1, y1);
                    ctx.lineTo(x2, y2);
                    ctx.stroke();
                }
                ctx.lineWidth = 3;
            }
            // bald = no hair drawn
        }

        function drawFacialHair() {
            const style = avatarOptions.facialHair[currentAvatar.facialHair].style;
            const color = avatarOptions.hairColor[currentAvatar.hairColor].color;
            
            if (style === 'none') return;
            
            ctx.fillStyle = color;
            
            if (style === 'stubble') {
                ctx.globalAlpha = 0.4;
                for (let i = 0; i < 100; i++) {
                    const x = 120 + Math.random() * 60;
                    const y = 170 + Math.random() * 35;
                    const dist = Math.sqrt(Math.pow(x - 150, 2) + Math.pow(y - 150, 2));
                    if (dist < 60) {
                        ctx.fillRect(x, y, 1, 1);
                    }
                }
                ctx.globalAlpha = 1;
            } else if (style === 'beard') {
                ctx.beginPath();
                ctx.moveTo(95, 170);
                ctx.quadraticCurveTo(90, 200, 120, 210);
                ctx.lineTo(180, 210);
                ctx.quadraticCurveTo(210, 200, 205, 170);
                ctx.quadraticCurveTo(150, 205, 95, 170);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
            } else if (style === 'goatee') {
                ctx.beginPath();
                ctx.moveTo(135, 190);
                ctx.quadraticCurveTo(135, 205, 150, 210);
                ctx.quadraticCurveTo(165, 205, 165, 190);
                ctx.quadraticCurveTo(150, 200, 135, 190);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
            }
        }

        function drawGlasses() {
            const style = avatarOptions.glasses[currentAvatar.glasses].style;
            
            if (style === 'none') return;
            
            ctx.strokeStyle = '#000000';
            ctx.lineWidth = 3;
            
            if (style === 'round') {
                ctx.fillStyle = 'rgba(200, 230, 255, 0.2)';
                
                ctx.beginPath();
                ctx.arc(130, 145, 18, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                ctx.beginPath();
                ctx.arc(170, 145, 18, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(148, 145);
                ctx.lineTo(152, 145);
                ctx.stroke();
            } else if (style === 'square') {
                ctx.fillStyle = 'rgba(200, 230, 255, 0.2)';
                
                ctx.fillRect(112, 135, 36, 20);
                ctx.strokeRect(112, 135, 36, 20);
                
                ctx.fillRect(152, 135, 36, 20);
                ctx.strokeRect(152, 135, 36, 20);
                
                ctx.beginPath();
                ctx.moveTo(148, 145);
                ctx.lineTo(152, 145);
                ctx.stroke();
            } else if (style === 'sun') {
                ctx.fillStyle = '#333';
                
                ctx.beginPath();
                ctx.arc(130, 145, 18, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                ctx.beginPath();
                ctx.arc(170, 145, 18, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(148, 145);
                ctx.lineTo(152, 145);
                ctx.stroke();
            }
        }

        function drawAccessories() {
            const style = avatarOptions.accessories[currentAvatar.accessories].style;
            const hairColor = avatarOptions.hairColor[currentAvatar.hairColor].color;
            
            if (style === 'none') return;
            
            if (style === 'hat') {
                ctx.fillStyle = '#8B4513';
                
                ctx.beginPath();
                ctx.ellipse(150, 75, 70, 15, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(120, 75);
                ctx.lineTo(115, 50);
                ctx.lineTo(185, 50);
                ctx.lineTo(180, 75);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                
                ctx.beginPath();
                ctx.ellipse(150, 50, 35, 10, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            } else if (style === 'beanie') {
                ctx.fillStyle = '#E74C3C';
                
                ctx.beginPath();
                ctx.arc(150, 80, 70, Math.PI, 0);
                ctx.lineTo(220, 100);
                ctx.lineTo(80, 100);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                
                ctx.beginPath();
                ctx.arc(150, 50, 12, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
            } else if (style === 'headband') {
                ctx.fillStyle = '#9B59B6';
                ctx.beginPath();
                ctx.ellipse(150, 105, 68, 8, 0, 0, Math.PI);
                ctx.fill();
                ctx.stroke();
            }
        }

        function createControls() {
            const controlsDiv = document.getElementById('controls');

            for (const [key, options] of Object.entries(avatarOptions)) {
                const group = document.createElement('div');
                group.className = 'control-group';

                const label = document.createElement('label');
                label.textContent = key.replace(/([A-Z])/g, ' $1').trim();
                group.appendChild(label);

                const optionGrid = document.createElement('div');
                optionGrid.className = 'option-grid';

                options.forEach((option, index) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    if (currentAvatar[key] === index) {
                        btn.classList.add('active');
                    }
                    btn.textContent = option.name;
                    btn.onclick = () => {
                        currentAvatar[key] = index;
                        drawAvatar();
                        updateActiveButtons();
                    };
                    optionGrid.appendChild(btn);
                });

                group.appendChild(optionGrid);
                controlsDiv.appendChild(group);
            }
        }

        function updateActiveButtons() {
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            let buttonIndex = 0;
            for (const key of Object.keys(avatarOptions)) {
                const options = avatarOptions[key];
                for (let i = 0; i < options.length; i++) {
                    if (currentAvatar[key] === i) {
                        document.querySelectorAll('.option-btn')[buttonIndex + i].classList.add('active');
                    }
                }
                buttonIndex += options.length;
            }
        }

        function randomizeAvatar() {
            for (const key of Object.keys(avatarOptions)) {
                const maxIndex = avatarOptions[key].length - 1;
                currentAvatar[key] = Math.floor(Math.random() * (maxIndex + 1));
            }
            drawAvatar();
            updateActiveButtons();
        }

        function downloadAvatar() {
            const link = document.createElement('a');
            link.download = 'notion-avatar.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        // Initialize
        createControls();
        drawAvatar();
    </script>
</body>
</html>
